# åç«¯å¼€å‘å®Œæˆæ€»ç»“

## âœ… å®Œæˆå†…å®¹

### 1. æ•°æ®åº“é…ç½®
- âœ… å®‰è£… Prisma å’Œ PostgreSQL ä¾èµ–
- âœ… é…ç½®æœ¬åœ° PostgreSQL æ•°æ®åº“è¿æ¥
- âœ… åˆ›å»ºæ•°æ®åº“è¿ç§»å¹¶åº”ç”¨
- âœ… ç”Ÿæˆ Prisma Client

### 2. æ•°æ®æ¨¡å‹è®¾è®¡
- âœ… User (ç”¨æˆ·è¡¨)
- âœ… Team (å›¢é˜Ÿè¡¨)
- âœ… Project (é¡¹ç›®è¡¨)
- âœ… Task (ä»»åŠ¡è¡¨)
- âœ… TeamMember (å›¢é˜Ÿæˆå‘˜å…³ç³»è¡¨)
- âœ… ProjectMember (é¡¹ç›®æˆå‘˜å…³ç³»è¡¨)

### 3. API ç«¯ç‚¹å®ç°

#### ä»»åŠ¡ API (`/api/tasks`)
- âœ… GET - è·å–ä»»åŠ¡åˆ—è¡¨ï¼ˆæ”¯æŒå¤šç§ç­›é€‰ï¼‰
- âœ… POST - åˆ›å»ºæ–°ä»»åŠ¡
- âœ… GET /:id - è·å–å•ä¸ªä»»åŠ¡è¯¦æƒ…
- âœ… PUT /:id - æ›´æ–°ä»»åŠ¡
- âœ… DELETE /:id - åˆ é™¤ä»»åŠ¡

#### ç”¨æˆ· API (`/api/users`)
- âœ… GET - è·å–ç”¨æˆ·åˆ—è¡¨
- âœ… POST - åˆ›å»ºæ–°ç”¨æˆ·

#### é¡¹ç›® API (`/api/projects`)
- âœ… GET - è·å–é¡¹ç›®åˆ—è¡¨ï¼ˆæ”¯æŒæŒ‰å›¢é˜Ÿç­›é€‰ï¼‰
- âœ… POST - åˆ›å»ºæ–°é¡¹ç›®

#### å›¢é˜Ÿ API (`/api/teams`)
- âœ… GET - è·å–å›¢é˜Ÿåˆ—è¡¨
- âœ… POST - åˆ›å»ºæ–°å›¢é˜Ÿ

### 4. æ•°æ®åˆå§‹åŒ–
- âœ… åˆ›å»ºç§å­è„šæœ¬ (`prisma/seed.ts`)
- âœ… åˆå§‹åŒ–æµ‹è¯•æ•°æ®ï¼ˆ3 ä¸ªç”¨æˆ·ã€2 ä¸ªå›¢é˜Ÿã€3 ä¸ªé¡¹ç›®ã€5 ä¸ªä»»åŠ¡ï¼‰

### 5. æ–‡æ¡£
- âœ… åç«¯æ¶æ„è®¾è®¡æ–‡æ¡£ (`backend-architecture.md`)
- âœ… API æ¥å£æ–‡æ¡£ (`API_DOCUMENTATION.md`)

## ğŸ“ æ–‡ä»¶ç»“æ„

```
calendar-task-manager/
â”œâ”€â”€ app/
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ tasks/
â”‚       â”‚   â”œâ”€â”€ route.ts          # ä»»åŠ¡åˆ—è¡¨æ¥å£
â”‚       â”‚   â””â”€â”€ [id]/route.ts     # å•ä¸ªä»»åŠ¡æ“ä½œ
â”‚       â”œâ”€â”€ users/route.ts        # ç”¨æˆ·æ¥å£
â”‚       â”œâ”€â”€ projects/route.ts     # é¡¹ç›®æ¥å£
â”‚       â””â”€â”€ teams/route.ts        # å›¢é˜Ÿæ¥å£
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ prisma.ts                 # Prisma Client å®ä¾‹
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma             # æ•°æ®åº“ Schema
â”‚   â”œâ”€â”€ seed.ts                   # ç§å­æ•°æ®è„šæœ¬
â”‚   â””â”€â”€ migrations/               # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”œâ”€â”€ .env                          # ç¯å¢ƒå˜é‡ï¼ˆæ•°æ®åº“è¿æ¥ï¼‰
â”œâ”€â”€ backend-architecture.md       # æ¶æ„æ–‡æ¡£
â””â”€â”€ API_DOCUMENTATION.md          # API æ–‡æ¡£
```

## ğŸ”§ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 16.0.1 (API Routes)
- **ORM**: Prisma 6.19.0
- **æ•°æ®åº“**: PostgreSQL (æœ¬åœ°)
- **è¯­è¨€**: TypeScript

## ğŸš€ ä½¿ç”¨æŒ‡å—

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
pnpm dev
```

### è®¿é—® API
- åŸºç¡€ URL: `http://localhost:3000/api`
- ç¤ºä¾‹: `http://localhost:3000/api/tasks`

### æŸ¥çœ‹æ•°æ®åº“
```bash
npx prisma studio
```

### é‡æ–°åˆå§‹åŒ–æ•°æ®
```bash
npx tsx prisma/seed.ts
```

### åˆ›å»ºæ–°è¿ç§»
```bash
npx prisma migrate dev --name <migration_name>
```

## ğŸ“Š æ•°æ®åº“çŠ¶æ€

âœ… æ•°æ®åº“å·²åˆ›å»º: `calendar_tasks`
âœ… æ•°æ®è¡¨å·²åˆ›å»º: 6 å¼ è¡¨
âœ… æµ‹è¯•æ•°æ®å·²å¯¼å…¥:
  - 3 ä¸ªç”¨æˆ· (Alice, Bob, Charlie)
  - 2 ä¸ªå›¢é˜Ÿ (å·¥ç¨‹å›¢é˜Ÿ, è®¾è®¡å›¢é˜Ÿ)
  - 3 ä¸ªé¡¹ç›® (Web åº”ç”¨å¼€å‘, ç§»åŠ¨ç«¯å¼€å‘, UI è®¾è®¡)
  - 5 ä¸ªä»»åŠ¡ (æ¶µç›– daily, meeting, vacation ä¸‰ç§ç±»å‹)

## ğŸ§ª æµ‹è¯• API

### ä½¿ç”¨ curl
```bash
# è·å–æ‰€æœ‰ä»»åŠ¡
curl http://localhost:3000/api/tasks

# è·å–æ‰€æœ‰ç”¨æˆ·
curl http://localhost:3000/api/users

# è·å–æ‰€æœ‰é¡¹ç›®
curl http://localhost:3000/api/projects

# è·å–æ‰€æœ‰å›¢é˜Ÿ
curl http://localhost:3000/api/teams
```

### ä½¿ç”¨æµè§ˆå™¨
ç›´æ¥è®¿é—®: `http://localhost:3000/api/tasks`

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

1. **å‰ç«¯é›†æˆ**
   - ä¿®æ”¹å‰ç«¯ä»£ç ï¼Œä» mock æ•°æ®åˆ‡æ¢åˆ°çœŸå® API
   - ä½¿ç”¨ `fetch` æˆ– `axios` è°ƒç”¨ API
   - å¤„ç†åŠ è½½çŠ¶æ€å’Œé”™è¯¯

2. **åŠŸèƒ½å¢å¼º**
   - æ·»åŠ ç”¨æˆ·è®¤è¯ï¼ˆNextAuth.jsï¼‰
   - å®ç°æƒé™æ§åˆ¶
   - æ·»åŠ ä»»åŠ¡è¯„è®ºåŠŸèƒ½
   - å®ç°ä»»åŠ¡é€šçŸ¥

3. **æ€§èƒ½ä¼˜åŒ–**
   - æ·»åŠ  API ç¼“å­˜
   - å®ç°åˆ†é¡µæŸ¥è¯¢
   - ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢

4. **éƒ¨ç½²**
   - é…ç½®ç”Ÿäº§ç¯å¢ƒæ•°æ®åº“
   - éƒ¨ç½²åˆ° Vercel
   - è®¾ç½®ç¯å¢ƒå˜é‡

## ğŸ“ é‡è¦è¯´æ˜

- `.env` æ–‡ä»¶åŒ…å«æ•°æ®åº“å¯†ç ï¼Œå·²æ·»åŠ åˆ° `.gitignore`
- å½“å‰åˆ†æ”¯: `feature/backend-api`
- æ‰€æœ‰æ›´æ”¹å·²æäº¤åˆ° Git

## ğŸ› å¸¸è§é—®é¢˜

### Q: æ— æ³•è¿æ¥æ•°æ®åº“
A: ç¡®ä¿ PostgreSQL æœåŠ¡æ­£åœ¨è¿è¡Œï¼Œå¹¶æ£€æŸ¥ `.env` ä¸­çš„è¿æ¥å­—ç¬¦ä¸²

### Q: Prisma Client æ‰¾ä¸åˆ°
A: è¿è¡Œ `npx prisma generate` é‡æ–°ç”Ÿæˆ Client

### Q: è¿ç§»å¤±è´¥
A: åˆ é™¤ `prisma/migrations` æ–‡ä»¶å¤¹ï¼Œé‡æ–°è¿è¡Œ `npx prisma migrate dev`

---

**å¼€å‘è€…**: tutusiji
**å®Œæˆæ—¶é—´**: 2025-11-15
**Git åˆ†æ”¯**: feature/backend-api
**Commit**: beabc52
