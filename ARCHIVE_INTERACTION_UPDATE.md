# 归档项目交互逻辑更新

## 变更说明

修改了归档项目列表的交互行为，使其更符合用户预期。

## 修改内容

### 之前的行为
- 点击归档项目列表中的项目 → 直接选中项目并切换到项目视图
- 可能导致用户误操作

### 现在的行为
- 点击归档项目列表中的项目 → **无反应**（不可点击）
- 归档项目显示为不可交互的文本（cursor: default）
- 只能通过右侧菜单的"取消归档"选项来恢复项目

## 用户交互流程

### 查看归档项目
1. 展开"归档项目"列表
2. 看到归档的项目（显示为半透明，不可点击）
3. 如需恢复，点击右侧的三点菜单 `⋮`
4. 选择"取消归档"

### 取消归档项目
1. 在"归档项目"列表中找到要恢复的项目
2. 点击项目右侧的三点菜单 `⋮`
3. 选择"取消归档"
4. 项目恢复到"My Projects"活跃列表

## 代码变更

### 文件修改
- `components/sidebar/navigation-menu.tsx`

### 具体改动

**之前**:
```tsx
<button
  onClick={async () => {
    setNavigationMode("project")
    await setSelectedProjectId(project.id)
  }}
  className={cn(
    "flex items-center gap-2 px-4 py-2 text-sm transition-colors hover:bg-muted/50 rounded-md flex-1 text-left opacity-60",
    navigationMode === "project" && selectedProjectId === project.id && "bg-muted"
  )}
>
  {/* 项目内容 */}
</button>
```

**现在**:
```tsx
<div
  className={cn(
    "flex items-center gap-2 px-4 py-2 text-sm rounded-md flex-1 text-left opacity-60 cursor-default"
  )}
>
  {/* 项目内容 */}
</div>
```

## 视觉变化

| 元素 | 之前 | 现在 |
|------|------|------|
| 鼠标悬停 | 显示背景色 | 无变化 |
| 鼠标光标 | pointer | default |
| 点击效果 | 选中项目 | 无反应 |
| 可交互性 | 可点击 | 不可点击 |

## 用户体验改进

✅ **防止误操作** - 用户不会意外选中归档项目  
✅ **明确意图** - 必须通过菜单才能取消归档，操作更谨慎  
✅ **视觉一致** - 不可点击的元素不显示交互样式  
✅ **流程清晰** - 用户知道必须点击菜单才能操作  

## 测试清单

- [ ] 归档项目列表中的项目不可点击
- [ ] 鼠标悬停时无背景色变化
- [ ] 鼠标光标显示为 default（不是 pointer）
- [ ] 只能通过右侧菜单取消归档
- [ ] 取消归档后项目恢复到活跃列表
- [ ] 活跃项目列表中的项目仍可正常点击

## 兼容性

- ✅ 所有浏览器
- ✅ 移动设备（触摸设备上无悬停效果）
- ✅ 键盘导航（Tab 键不会聚焦到不可点击的元素）

## 后续优化建议

1. **添加提示文本** - 在归档项目上显示 tooltip："点击右侧菜单操作"
2. **禁用状态样式** - 使用更明显的禁用样式（如灰色）
3. **快捷键** - 支持右键菜单快速取消归档
4. **批量操作** - 支持同时取消归档多个项目

---

**更新日期**: 2026-02-05  
**版本**: 1.1  
**状态**: ✅ 完成
