# éƒ¨ç½²è¯´æ˜ - 2025.11.19 æ›´æ–°

## ğŸ“¦ æœ¬æ¬¡æ›´æ–°å†…å®¹

### 1. ç§¯åˆ†æ’åç³»ç»Ÿ
- âœ… 31æ®µä½æ’åç³»ç»Ÿï¼ˆå€”å¼ºé’é“œâ…¢ â†’ ä¼ å¥‡ç‹è€…ï¼‰
- âœ… ç‹è€…æ®µä½æ˜Ÿçº§ç³»ç»Ÿï¼ˆ1-5æ˜Ÿï¼‰
- âœ… ç§¯åˆ†è·å–æœºåˆ¶ï¼š
  - åˆ›å»ºä»»åŠ¡ï¼š+2 ç§¯åˆ†
  - åˆ›å»ºå›¢é˜Ÿï¼š+5 ç§¯åˆ†
  - åˆ›å»ºé¡¹ç›®ï¼š+5 ç§¯åˆ†
  - é‚€è¯·ç”¨æˆ·ï¼š+10 ç§¯åˆ†
- âœ… å¯ç‚¹å‡»å¾½ç« ç»„ä»¶ï¼Œæ˜¾ç¤ºå®Œæ•´æ’åä¿¡æ¯å’Œè¿›åº¦
- âœ… ç§¯åˆ†è§„åˆ™è¯´æ˜ï¼ˆHoveré—®å·æŸ¥çœ‹ï¼‰

### 2. æ³¨å†ŒåŠŸèƒ½å¢å¼º
- âœ… æ–°å¢èŒä¸šé€‰é¡¹ï¼š
  - ç®—æ³•å·¥ç¨‹å¸ˆ
  - ç¡¬ä»¶å·¥ç¨‹å¸ˆ
  - ç¨‹åºå‘˜
  - æµ‹è¯•å·¥ç¨‹å¸ˆ
- âœ… æ”¯æŒè‡ªå®šä¹‰èŒä¸šè¾“å…¥ï¼ˆæœ€å¤š20å­—ç¬¦ï¼‰

### 3. Bug ä¿®å¤
- âœ… ä¿®å¤ useEffect ä¾èµ–æ•°ç»„å¤§å°ä¸ä¸€è‡´è­¦å‘Š
- âœ… ä¿®å¤ç§¯åˆ†å¾½ç« åŒå±‚ border é—®é¢˜
- âœ… ä¼˜åŒ–ä¸ªäººä¸­å¿ƒå¾½ç« å¸ƒå±€ï¼ˆç§»åˆ°ç”¨æˆ·ååé¢ï¼‰

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### 1. ä¸Šä¼ é•œåƒæ–‡ä»¶åˆ°æœåŠ¡å™¨

```bash
# ä½¿ç”¨ scp ä¸Šä¼ ï¼ˆæ›¿æ¢ä¸ºä½ çš„æœåŠ¡å™¨åœ°å€ï¼‰
scp calendar-task-manager-2025.11.19.tar user@your-server:/tmp/
```

### 2. åœ¨æœåŠ¡å™¨ä¸ŠåŠ è½½é•œåƒ

```bash
# SSH ç™»å½•æœåŠ¡å™¨
ssh user@your-server

# åŠ è½½é•œåƒ
cd /tmp
docker load -i calendar-task-manager-2025.11.19.tar

# éªŒè¯é•œåƒå·²åŠ è½½
docker images | grep calendar-task-manager
```

### 3. åœæ­¢å¹¶åˆ é™¤æ—§å®¹å™¨

```bash
# åœæ­¢æ—§å®¹å™¨
docker-compose down

# æˆ–è€…æ‰‹åŠ¨åœæ­¢
docker stop calendar-task-manager
docker rm calendar-task-manager
```

### 4. æ›´æ–° docker-compose.yml

ç¡®ä¿ `docker-compose.yml` ä¸­çš„é•œåƒç‰ˆæœ¬å·²æ›´æ–°ï¼š

```yaml
services:
  app:
    image: tutusiji/calendar-task-manager:2025.11.19  # æ›´æ–°è¿™é‡Œ
    # ... å…¶ä»–é…ç½®
```

### 5. å¯åŠ¨æ–°å®¹å™¨

```bash
# ä½¿ç”¨ docker-compose
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

### 6. éªŒè¯éƒ¨ç½²

```bash
# æ£€æŸ¥å®¹å™¨çŠ¶æ€
docker ps | grep calendar-task-manager

# æ£€æŸ¥åº”ç”¨å¥åº·çŠ¶æ€
curl http://localhost:3000/api/health  # æ ¹æ®å®é™…ç«¯å£è°ƒæ•´
```

## ğŸ“Š æ•°æ®åº“æ›´æ–°

**é‡è¦ï¼š** æœ¬æ¬¡æ›´æ–°åŒ…å«æ•°æ®åº“è¿ç§»ï¼Œéœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

```bash
# è¿›å…¥å®¹å™¨
docker exec -it calendar-task-manager sh

# è¿è¡Œè¿ç§»
npx prisma migrate deploy

# é€€å‡ºå®¹å™¨
exit
```

### è¿ç§»å†…å®¹
- æ·»åŠ  `User.points` å­—æ®µï¼ˆé»˜è®¤å€¼ï¼š0ï¼‰

## âœ… éªŒè¯æ¸…å•

éƒ¨ç½²å®Œæˆåï¼Œè¯·éªŒè¯ä»¥ä¸‹åŠŸèƒ½ï¼š

- [ ] ç”¨æˆ·ç™»å½•æ­£å¸¸
- [ ] ä¸ªäººä¸­å¿ƒæ˜¾ç¤ºç§¯åˆ†å¾½ç« 
- [ ] ç‚¹å‡»å¾½ç« å¯æŸ¥çœ‹å®Œæ•´æ’åä¿¡æ¯
- [ ] åˆ›å»ºä»»åŠ¡/å›¢é˜Ÿ/é¡¹ç›®åç§¯åˆ†æ­£å¸¸å¢åŠ 
- [ ] æ³¨å†Œé¡µé¢æ–°å¢èŒä¸šé€‰é¡¹å¯ç”¨
- [ ] è‡ªå®šä¹‰èŒä¸šè¾“å…¥åŠŸèƒ½æ­£å¸¸

## ğŸ”„ å›æ»šæ–¹æ¡ˆ

å¦‚æœéƒ¨ç½²å‡ºç°é—®é¢˜ï¼Œå¯ä»¥å›æ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬ï¼š

```bash
# åœæ­¢å½“å‰å®¹å™¨
docker-compose down

# ä¿®æ”¹ docker-compose.yml ä½¿ç”¨æ—§ç‰ˆæœ¬
# image: tutusiji/calendar-task-manager:previous-version

# å¯åŠ¨æ—§ç‰ˆæœ¬
docker-compose up -d
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **å¤‡ä»½æ•°æ®åº“**ï¼šéƒ¨ç½²å‰è¯·åŠ¡å¿…å¤‡ä»½æ•°æ®åº“
2. **è¿ç§»æ—¶é—´**ï¼šæ•°æ®åº“è¿ç§»é€šå¸¸å¾ˆå¿«ï¼ˆ< 1ç§’ï¼‰
3. **åœæœºæ—¶é—´**ï¼šé¢„è®¡åœæœºæ—¶é—´ < 2 åˆ†é’Ÿ
4. **é•œåƒå¤§å°**ï¼šçº¦ 499MBï¼Œè¯·ç¡®ä¿æœåŠ¡å™¨æœ‰è¶³å¤Ÿç©ºé—´

## ğŸ¯ ä»Šæ—¥æ›´æ–°æ€»ç»“

**æ ¸å¿ƒåŠŸèƒ½**ï¼šç§¯åˆ†æ’åç³»ç»Ÿ
**æ•°æ®åº“å˜æ›´**ï¼šæ–°å¢ points å­—æ®µ
**å‰ç«¯ä¼˜åŒ–**ï¼šå¾½ç« ç»„ä»¶ã€æ³¨å†Œæµç¨‹
**Bugä¿®å¤**ï¼š3ä¸ª

**å½±å“èŒƒå›´**ï¼š
- ç”¨æˆ·è¡¨ï¼ˆUserï¼‰
- æ³¨å†Œæµç¨‹
- ä¸ªäººä¸­å¿ƒ
- ä»»åŠ¡/å›¢é˜Ÿ/é¡¹ç›®åˆ›å»ºæµç¨‹

---

**éƒ¨ç½²æ—¶é—´**ï¼š2025å¹´11æœˆ19æ—¥  
**é•œåƒç‰ˆæœ¬**ï¼š2025.11.19  
**é•œåƒæ–‡ä»¶**ï¼šcalendar-task-manager-2025.11.19.tar
